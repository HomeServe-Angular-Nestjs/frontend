<section class="bg-white rounded-xl shadow-md p-6 w-full">
    <ng-container *ngIf="settings$ | async as setting">
        <h3 class="text-lg font-semibold text-gray-800 mb-6">Revenue Settings</h3>

        <form [formGroup]="form" class="grid grid-cols-1 md:grid-cols-3 gap-6">

            <!-- GST Setting -->
            <div class="flex flex-col">
                <label for="gst" class="text-sm text-gray-600 mb-2">GST (%)</label>
                <div class="relative flex items-center">
                    <input id="gst" type="number" formControlName="gstPercentage" class="no-number-spinner w-full px-4 py-2 border rounded-lg text-gray-800 font-medium
            disabled:bg-gray-100 disabled:text-gray-500 focus:ring-2 focus:ring-blue-500 focus:outline-none" />

                    <!-- Action Buttons -->
                    <div class="absolute right-2 flex items-center space-x-2">
                        <button *ngIf="!isEditing.gstPercentage" (click)="enableEdit('gstPercentage')" type="button"
                            class="text-gray-500 hover:text-blue-600" title="Edit GST">
                            <i class="fas fa-edit"></i>
                        </button>
                        <ng-container *ngIf="isEditing.gstPercentage">
                            <button type="button" (click)="save('gstPercentage')"
                                class="text-green-600 hover:text-green-700" title="Save">
                                <i class="fas fa-check"></i>
                            </button>
                            <button type="button" (click)="cancel('gstPercentage')"
                                class="text-red-500 hover:text-red-600" title="Cancel">
                                <i class="fas fa-times"></i>
                            </button>
                        </ng-container>
                    </div>
                </div>
                <p class="text-xs text-gray-400 mt-1">GST charged to customers on each transaction.</p>
            </div>

            <!-- Provider Commission Setting -->
            <div class="flex flex-col">
                <label for="providerCommission" class="text-sm text-gray-600 mb-2">Provider Commission (%)</label>
                <div class="relative flex items-center">
                    <input id="providerCommission" type="number" formControlName="providerCommission" class="no-number-spinner w-full px-4 py-2 border rounded-lg text-gray-800 font-medium
            disabled:bg-gray-100 disabled:text-gray-500 focus:ring-2 focus:ring-blue-500 focus:outline-none" />

                    <!-- Action Buttons -->
                    <div class="absolute right-2 flex items-center space-x-2">
                        <button *ngIf="!isEditing.providerCommission" (click)="enableEdit('providerCommission')"
                            type="button" class="text-gray-500 hover:text-blue-600" title="Edit Provider Commission">
                            <i class="fas fa-edit"></i>
                        </button>
                        <ng-container *ngIf="isEditing.providerCommission">
                            <button type="button" (click)="save('providerCommission')"
                                class="text-green-600 hover:text-green-700" title="Save">
                                <i class="fas fa-check"></i>
                            </button>
                            <button type="button" (click)="cancel('providerCommission')"
                                class="text-red-500 hover:text-red-600" title="Cancel">
                                <i class="fas fa-times"></i>
                            </button>
                        </ng-container>
                    </div>
                </div>
                <p class="text-xs text-gray-400 mt-1">Percentage deducted from providers per transaction.</p>
            </div>

            <!-- Customer Commission Setting -->
            <div class="flex flex-col">
                <label for="customerCommission" class="text-sm text-gray-600 mb-2">Customer Commission (%)</label>
                <div class="relative flex items-center">
                    <input id="customerCommission" type="number" formControlName="customerCommission" class="no-number-spinner w-full px-4 py-2 border rounded-lg text-gray-800 font-medium
            disabled:bg-gray-100 disabled:text-gray-500 focus:ring-2 focus:ring-blue-500 focus:outline-none" />

                    <!-- Action Buttons -->
                    <div class="absolute right-2 flex items-center space-x-2">
                        <button *ngIf="!isEditing.customerCommission" (click)="enableEdit('customerCommission')"
                            type="button" class="text-gray-500 hover:text-blue-600" title="Edit Customer Commission">
                            <i class="fas fa-edit"></i>
                        </button>
                        <ng-container *ngIf="isEditing.customerCommission">
                            <button type="button" (click)="save('customerCommission')"
                                class="text-green-600 hover:text-green-700" title="Save">
                                <i class="fas fa-check"></i>
                            </button>
                            <button type="button" (click)="cancel('customerCommission')"
                                class="text-red-500 hover:text-red-600" title="Cancel">
                                <i class="fas fa-times"></i>
                            </button>
                        </ng-container>
                    </div>
                </div>
                <p class="text-xs text-gray-400 mt-1">Percentage charged from customers per transaction.</p>
            </div>
        </form>
    </ng-container>
</section>