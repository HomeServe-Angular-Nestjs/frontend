<section class="bg-white rounded-lg border p-4 space-y-4 text-sm">

    <!-- Header -->
    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-6">
        <div class="space-y-1">
            <h2 class="text-xl font-bold text-gray-900 tracking-tight">
                Work Hours
            </h2>
            <p class="text-sm text-gray-500">
                Set when you’re available for bookings
            </p>
        </div>

        <div class="inline-flex rounded-lg border border-green-200 bg-green-50 p-1 text-xs font-medium">
            <button type="button" (click)="setMode('manage')" class="px-4 py-1.5 rounded-md transition-all" [ngClass]="mode === 'manage'
            ? 'bg-white text-green-700 shadow-sm'
            : 'text-green-700/70 hover:text-green-800'">
                Manage
            </button>
            <button type="button" (click)="setMode('preview')" class="px-4 py-1.5 rounded-md transition-all" [ngClass]="mode === 'preview'
            ? 'bg-white text-green-700 shadow-sm'
            : 'text-green-700/70 hover:text-green-800'">
                Preview
            </button>
        </div>
    </div>

    <!-- Schedule Rows -->
    <div class="bg-white rounded-xl border border-gray-200 divide-y text-sm">

        <div *ngFor="let day of weeklyAvailability" class="flex items-center gap-4 px-4 py-3 bg-gray-50/50
                hover:bg-white hover:shadow-sm transition-all">

            <!-- Day -->
            <span class="w-24 font-medium text-gray-700">
                {{ day.label }}
            </span>

            <!-- TIME RANGE -->
            <ng-container *ngIf="day.active; else addTemplate">
                <div class="flex items-center gap-2">
                    <input type="time" [(ngModel)]="day.from" (ngModelChange)="markDirty()" class="border rounded px-2 py-1 text-xs
                        focus:outline-none focus:ring focus:border-green-400 cursor-pointer">

                    <span class="text-gray-400">–</span>

                    <input type="time" [(ngModel)]="day.to" (ngModelChange)="markDirty()" class="border rounded px-2 py-1 text-xs
                        focus:outline-none focus:ring focus:border-green-400 cursor-pointer">
                </div>

                <!-- Delete -->
                <button class="ml-auto text-gray-400 hover:text-red-500" title="Remove availability"
                    (click)="removeSlot(day)">
                    <i class="fas fa-trash"></i>
                </button>
            </ng-container>

            <!-- ADD STATE -->
            <ng-template #addTemplate>
                <span class="text-gray-400 italic text-xs">
                    No availability
                </span>

                <button class="ml-auto text-green-600 hover:text-green-700 text-xs font-medium"
                    (click)="addNextSlot(day)">
                    + Add
                </button>
            </ng-template>

        </div>

    </div>

    <!-- Section Footer -->
    <div class="flex justify-end pt-3 border-t">

        <button [disabled]="!isDirty" (click)="saveWorkHours()" class="px-5 py-2 text-sm font-semibold rounded-md
             bg-green-600 text-white
             hover:bg-green-500
             disabled:bg-gray-300 disabled:cursor-not-allowed
             focus:outline-none focus:ring-2 focus:ring-green-600">
            Save changes
        </button>

    </div>

</section>